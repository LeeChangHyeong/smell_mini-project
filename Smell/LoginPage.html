<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <style>
        .weatherAndMusicAndRanking {
            width: 600px;
            margin: 50px auto 0px auto;
            padding: 20px;
            background-color: pink;
            text-align: center;
            border-radius: 10px;
            /* í¼ ëª¨ì„œë¦¬ë¥¼ ë‘¥ê¸€ê²Œ ë§Œë“¦ */
        }

        .weatherAndMusic {
            display: flex;
            /* ìš”ì†Œë“¤ì„ ìˆ˜í‰ìœ¼ë¡œ ì •ë ¬ */
            justify-content: space-between;
            /* ìš”ì†Œë“¤ì˜ ê°„ê²©ì„ ìµœëŒ€í•œ í™œìš©í•˜ì—¬ ìš”ì†Œë¥¼ ë¶„ì‚°ì‹œí‚´ */
            align-items: center;
            /* ìš”ì†Œë“¤ì„ ì„¸ë¡œ ì¤‘ì•™ìœ¼ë¡œ ì •ë ¬ */
        }

        .weatherIcon {
            width: 50px;
            height: 50px;
        }


        .login {
            width: 500px;
            margin: 50px auto 0px auto;
            padding: 20px;
            /* í¼ ë‚´ë¶€ ì—¬ë°± ì¶”ê°€ */
            border-radius: 10px;
            background-color: pink;
            text-align: center;
        }

        .logo {
            width: 500px;
            height: 200px;

            background-image: url('https://saegchil.co.kr/wp-content/uploads/2023/04/gwiyeoun-kaeligteo-siteu-46-saegchil.jpg');
            background-position: center;
            background-size: cover;
        }

        .id-input {
            display: flex;
            justify-content: center;
            /* ê°€ë¡œ ì¤‘ì•™ ì •ë ¬ */
            align-items: center;
        }

        .id-icon {
            width: 24px;
            /* ì´ë¯¸ì§€ì˜ ë„ˆë¹„ ì¡°ì ˆ */
            height: 24px;
            /* ì´ë¯¸ì§€ì˜ ë†’ì´ ì¡°ì ˆ */
            margin-right: 10px;
            /* ì´ë¯¸ì§€ì™€ í…ìŠ¤íŠ¸ ì‚¬ì´ ê°„ê²© ì¡°ì ˆ */
        }

        input[type="email"],
        input[type="password"] {
            width: 80%;
            padding: 10px;
            margin: 10px 0;
            box-sizing: border-box;
        }

        iframe {
            width: 450px;
            height: 300px;
        }
    </style>
    <script type="module">
        // Firebase SDK ë¼ì´ë¸ŒëŸ¬ë¦¬ ê°€ì ¸ì˜¤ê¸°
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-app.js";
        import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-auth.js";

        // Firebase êµ¬ì„± ì •ë³´ ì„¤ì •
        const firebaseConfig = {
            apiKey: "AIzaSyB-eyQJ5vsYV1VPXbhXvUu0Bm5Do0AfGmY",
            authDomain: "smell-19e9a.firebaseapp.com",
            projectId: "smell-19e9a",
            storageBucket: "smell-19e9a.appspot.com",
            messagingSenderId: "321477657279",
            appId: "1:321477657279:web:48bec02f302e4b7bfb7c0a",
            measurementId: "G-78FKFTNFZ4"
        };

        // Firebase ì¸ìŠ¤í„´ìŠ¤ ì´ˆê¸°í™”
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);

        $(document).ready(function () {
            let url = "http://spartacodingclub.shop/sparta_api/weather/seoul";  // ì„œìš¸ ë‚ ì”¨ API ìš”ì²­ì„ ìœ„í•œ URL 
            // í•´ë‹¹ URLë¡œ GET ìš”ì²­ì„ ë³´ë‚´ê³ , ë°›ì€ ì‘ë‹µì„ JSON í˜•ì‹ìœ¼ë¡œ ë³€í™˜
            fetch(url).then(res => res.json()).then(data => {
                console.log(data);
                let temp = data['temp']; // ì‘ë‹µì—ì„œ ì˜¨ë„ ì •ë³´ ì¶”ì¶œ
                let weather = data['icon']
                $('#temperature').text(temp);  // ì˜¨ë„ ì •ë³´ë¥¼ í•´ë‹¹ ìš”ì†Œì— í…ìŠ¤íŠ¸ë¡œ ì¶”ê°€
                $('#weather').attr('src', weather); // ë‚ ì”¨ ì•„ì´ì½˜ ì´ë¯¸ì§€ URLì„ ì´ë¯¸ì§€ ìš”ì†Œì˜ src ì†ì„±ì— ì„¤ì •
            });

            // ë¡œê·¸ì¸ ë²„íŠ¼ í´ë¦­ ì‹œ ì²˜ë¦¬
            $("#loginButton").click(async function () {
                let email = $('input[name="email"]').val(); // ì´ë©”ì¼ ê°’ ê°€ì ¸ì˜¤ê¸°
                let password = $('input[name="password"]').val(); // ë¹„ë°€ë²ˆí˜¸ ê°’ ê°€ì ¸ì˜¤ê¸°

                try {
                    // Firebaseì— ì´ë©”ì¼ê³¼ ë¹„ë°€ë²ˆí˜¸ë¡œ ë¡œê·¸ì¸ ìš”ì²­
                    await signInWithEmailAndPassword(auth, email, password);
                    // ë¡œê·¸ì¸ ì„±ê³µ ì•Œë¦¼
                    alert('ë¡œê·¸ì¸ì— ì„±ê³µí–ˆìŠµë‹ˆë‹¤!');
                } catch (error) {
                    // ë¡œê·¸ì¸ ì‹¤íŒ¨ ì•Œë¦¼
                    alert('ë¡œê·¸ì¸ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ì´ë©”ì¼ê³¼ ë¹„ë°€ë²ˆí˜¸ë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”.');
                    console.error(error);
                }
            });
        });

    </script>
</head>

<body>
    <div class="weatherAndMusicAndRanking">
        <div class="weatherAndMusic">
            <div class="weatherInfo">
                <p>ì„œìš¸ì˜ ê¸°ì˜¨ : <sapn id="temperature"></sapn>ë„</p>
                <img class="weatherIcon" id="weather" src="" alt="ë‚ ì”¨ ì•„ì´ì½˜">
            </div>
            <iframe width="560" height="315" src="https://www.youtube.com/embed/4gXmClk8rKI" frameborder="0"
                allowfullscreen></iframe>
        </div>
        <div class="musicReasonAndRanking">
            <p>ë‚ ì”¨ë„ ì¢‹ì€ë° ëˆˆê³¼ ê·€ê°€ ì¦ê±°ìš´ ë…¸ë˜ ë“¤ìœ¼ì‹œê³  ê³µë¶€í•˜ëŸ¬ ê°€ë´ìš” ğŸ”¥</p>
            <p>ì˜¤ëŠ˜ì˜ ë­í‚¹ 1ë“±ì€ 7Songì‚¬ì´ë‹¤ ğŸ†</p>
        </div>
    </div>

    </div>
    <div class="login">
        <div class="logo">
            <!-- ë¡œê³  ë„£ëŠ” ë¶€ë¶„ -->
        </div>
        <p class="id-input">
            <!-- ID ì…ë ¥ë€ -->
            <img class="id-icon"
                src="https://saegchil.co.kr/wp-content/uploads/2023/04/gwiyeoun-kaeligteo-siteu-46-saegchil.jpg"
                alt="ì•„ì´ì½˜">
            <input type="email" name="email" placeholder="Email Address" />
        </p>
        <p class="id-input">
            <!-- PW ì…ë ¥ë€ -->
            <img class="id-icon"
                src="https://saegchil.co.kr/wp-content/uploads/2023/04/gwiyeoun-kaeligteo-siteu-46-saegchil.jpg"
                alt="ì•„ì´ì½˜">
            <input type="password" name="password" placeholder="Password" />
        </p>
        <p>
            <button id="loginButton">ë¡œê·¸ì¸í•˜ê¸°</button>
        </p>
        <p>
            <button onclick="location.href='SignUpPage.html'">íšŒì›ê°€ì…í•˜ê¸°</button>
        </p>
    </div>
</body>

</html>