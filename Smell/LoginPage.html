<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <!-- Bootstrap CSS ìŠ¤íƒ€ì¼ì‹œíŠ¸ë¥¼ ê°€ì ¸ì˜¤ê¸° ìœ„í•œ link íƒœê·¸. -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <!-- ë¶€íŠ¸ìŠ¤íŠ¸ë© -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <style>
         /*í°íŠ¸*/
         @import url('https://fonts.googleapis.com/css2?family=Gowun+Dodum&display=swap');

* {
    font-family: "Gowun Dodum", sans-serif;
}
        .weatherAndMusicAndRanking {
            width: 700px;
            margin: 50px auto 0px auto;
            padding: 20px;
            text-align: center;
            /* í¼ ëª¨ì„œë¦¬ë¥¼ ë‘¥ê¸€ê²Œ ë§Œë“¦ */
            box-shadow: 0px 0px 3px 0px palevioletred;
            /* ê·¸ë¦¼ì íš¨ê³¼ë¥¼ ì¶”ê°€ */
            border-radius: 5px;
            /* í…Œë‘ë¦¬ì˜ ëª¨ì„œë¦¬ë¥¼ ë‘¥ê¸€ê²Œ ì„¤ì • */
        }

                /*ìƒë‹¨ì˜ ë¡œê³ */
                .title_logo {
            height: 150px;
            /*ë¡œê³  ë†’ì´ 150*/
            color: white;
            /*í…ìŠ¤íŠ¸ ìƒ‰ìƒ : white*/

            display: flex;
            /* flexbox ë ˆì´ì•„ì›ƒì„ ì‚¬ìš©í•˜ì—¬ ìš”ì†Œë¥¼ ê°€ìš´ë° ì •ë ¬ */
            flex-direction: column;
            /* ì„¸ë¡œ ë°©í–¥ìœ¼ë¡œ ë°°ì¹˜ */
            align-items: center;
            /* ìˆ˜í‰ê³¼ ìˆ˜ì§ìœ¼ë¡œ ê°€ìš´ë° ì •ë ¬ */
            justify-content: center;

            /* ë°°ê²½ ì´ë¯¸ì§€ ì„¤ì • */
            background-image: url('https://github.com/LeeNaYoung240/smell_mini-project/assets/107848521/22f3545f-bd3c-4ae7-920c-8a9dcbb86edb');
            background-position: center;
            background-size: cover;
            /* ë°°ê²½ ì´ë¯¸ì§€ë¥¼ ì»¤ë²„í•˜ëŠ” í¬ê¸°ë¡œ ì„¤ì • */
        }

        .weatherAndMusic {
            display: flex;
            /* ìš”ì†Œë“¤ì„ ìˆ˜í‰ìœ¼ë¡œ ì •ë ¬ */
            justify-content: space-between;
            /* ìš”ì†Œë“¤ì˜ ê°„ê²©ì„ ìµœëŒ€í•œ í™œìš©í•˜ì—¬ ìš”ì†Œë¥¼ ë¶„ì‚°ì‹œí‚´ */
            align-items: center;
            /* ìš”ì†Œë“¤ì„ ì„¸ë¡œ ì¤‘ì•™ìœ¼ë¡œ ì •ë ¬ */
        }

        .weatherIcon {
            width: 50px;
            height: 50px;
        }


        .login {
            width: 500px;
            margin: 50px auto 50px auto;
            padding: 20px;
            /* í¼ ë‚´ë¶€ ì—¬ë°± ì¶”ê°€ */
            border-radius: 10px;
            background-color: white;
            text-align: center;
            /* í¼ ëª¨ì„œë¦¬ë¥¼ ë‘¥ê¸€ê²Œ ë§Œë“¦ */
            box-shadow: 0px 0px 3px 0px palevioletred;
            /* ê·¸ë¦¼ì íš¨ê³¼ë¥¼ ì¶”ê°€ */
            border-radius: 5px;
            /* í…Œë‘ë¦¬ì˜ ëª¨ì„œë¦¬ë¥¼ ë‘¥ê¸€ê²Œ ì„¤ì • */
        }

        .form-group {
            display: flex;
            /* justify-content: center; */
            /* ê°€ë¡œ ì¤‘ì•™ ì •ë ¬ */
            align-items: center;
        }

        .logo {
            width: 470px;
            height: 200px;

            background-image: url('https://saegchil.co.kr/wp-content/uploads/2023/04/gwiyeoun-kaeligteo-siteu-46-saegchil.jpg');
            background-position: center;
            background-size: cover;
        }

        .id-input {
            display: flex;
            justify-content: center;
            /* ê°€ë¡œ ì¤‘ì•™ ì •ë ¬ */
            align-items: center;
        }

        .id-icon {
            width: 50px;
            /* ì´ë¯¸ì§€ì˜ ë„ˆë¹„ ì¡°ì ˆ */
            height: 50px;
            /* ì´ë¯¸ì§€ì˜ ë†’ì´ ì¡°ì ˆ */
            margin-right: 20px;
            /* ì´ë¯¸ì§€ì™€ í…ìŠ¤íŠ¸ ì‚¬ì´ ê°„ê²© ì¡°ì ˆ */
        }

        input[type="email"],
        input[type="password"] {
            width: 190%;
            padding: 10px;
            margin: 10px 0;
            box-sizing: border-box;
        }

        @supports (-webkit-appearance:none) and (stroke-color:transparent) {

            input[type="email"],
            input[type="password"] {
                width: 100%;
            }
        }

        iframe {
            width: 450px;
            height: 300px;
        }
    </style>
    <script type="module">
                // ë¬¸ì„œ ë¡œë“œ ì‹œ Firestoreì—ì„œ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
                $(document).ready(function () {
            fetchDataFromFirestore();
        });
        $(document).ready(function () {
            // mypage, sutdy ìƒë‹¨ë°” í´ë¦­ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬
            $("a[href='#']").click(function (e) {
                e.preventDefault(); // ê¸°ë³¸ ë™ì‘ ì·¨ì†Œ

                let isLoggedIn = false; // ì‚¬ìš©ìê°€ ë¡œê·¸ì¸ë˜ì–´ ìˆëŠ”ì§€ ì—¬ë¶€

                if (isLoggedIn) {
                    // ì‚¬ìš©ìê°€ ë¡œê·¸ì¸ë˜ì–´ ìˆë‹¤ë©´ í•´ë‹¹ ë§í¬ë¡œ ì´ë™
                    window.location.href = $(this).attr('href');
                } else {
                    alert("ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤");
                }
            });
        });
        // Firebase SDK ë¼ì´ë¸ŒëŸ¬ë¦¬ ê°€ì ¸ì˜¤ê¸°
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-app.js";
        import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-auth.js";

        // Firebase êµ¬ì„± ì •ë³´ ì„¤ì •
        const firebaseConfig = {
            apiKey: "AIzaSyB-eyQJ5vsYV1VPXbhXvUu0Bm5Do0AfGmY",
            authDomain: "smell-19e9a.firebaseapp.com",
            projectId: "smell-19e9a",
            storageBucket: "smell-19e9a.appspot.com",
            messagingSenderId: "321477657279",
            appId: "1:321477657279:web:48bec02f302e4b7bfb7c0a",
            measurementId: "G-78FKFTNFZ4"
        };

        // Firebase ì¸ìŠ¤í„´ìŠ¤ ì´ˆê¸°í™”
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);

        $(document).ready(function () {
            let url = "http://spartacodingclub.shop/sparta_api/weather/seoul";  // ì„œìš¸ ë‚ ì”¨ API ìš”ì²­ì„ ìœ„í•œ URL 
            // í•´ë‹¹ URLë¡œ GET ìš”ì²­ì„ ë³´ë‚´ê³ , ë°›ì€ ì‘ë‹µì„ JSON í˜•ì‹ìœ¼ë¡œ ë³€í™˜
            fetch(url).then(res => res.json()).then(data => {
                console.log(data);
                let temp = data['temp']; // ì‘ë‹µì—ì„œ ì˜¨ë„ ì •ë³´ ì¶”ì¶œ
                let weather = data['icon']
                $('#temperature').text(temp);  // ì˜¨ë„ ì •ë³´ë¥¼ í•´ë‹¹ ìš”ì†Œì— í…ìŠ¤íŠ¸ë¡œ ì¶”ê°€
                $('#weather').attr('src', weather); // ë‚ ì”¨ ì•„ì´ì½˜ ì´ë¯¸ì§€ URLì„ ì´ë¯¸ì§€ ìš”ì†Œì˜ src ì†ì„±ì— ì„¤ì •
            });

            // ë¡œê·¸ì¸ ë²„íŠ¼ í´ë¦­ ì‹œ ì²˜ë¦¬
            $("#loginButton").click(async function () {
                let email = $('#email').val(); // ì´ë©”ì¼ ê°’ ê°€ì ¸ì˜¤ê¸°
                let password = $('#password').val(); // ë¹„ë°€ë²ˆí˜¸ ê°’ ê°€ì ¸ì˜¤ê¸°

                try {
                    // Firebaseì— ì´ë©”ì¼ê³¼ ë¹„ë°€ë²ˆí˜¸ë¡œ ë¡œê·¸ì¸ ìš”ì²­
                    await signInWithEmailAndPassword(auth, email, password);
                    // ë¡œê·¸ì¸ ì„±ê³µ ì•Œë¦¼
                    alert('ë¡œê·¸ì¸ì— ì„±ê³µí–ˆìŠµë‹ˆë‹¤!');
                    window.location.href = "StudyPage.html"; // ë¡œê·¸ì¸ ì„±ê³µ í˜ì´ì§€ì˜ ê²½ë¡œë¡œ ë³€ê²½
                } catch (error) {
                    // ë¡œê·¸ì¸ ì‹¤íŒ¨ ì•Œë¦¼
                    alert('ë¡œê·¸ì¸ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ì´ë©”ì¼ê³¼ ë¹„ë°€ë²ˆí˜¸ë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”.');
                    console.error(error);
                }
            });

        });

    </script>
</head>

<body>
    <header class="p-3 text-bg-dark">
        <!-- ì»¨í…Œì´ë„ˆë¥¼ í¬í•¨í•˜ëŠ” div ìš”ì†Œë¡œ í—¤ë”ë¥¼ ê°ì‹¸ì¤Œ -->
        <div class="container">
            <!-- flexboxë¥¼ ì‚¬ìš©í•˜ì—¬ ìš”ì†Œë“¤ì„ ê°€ë¡œë¡œ ì •ë ¬ -->
            <div class="d-flex flex-wrap align-items-center justify-content-center justify-content-lg-start">
                <!-- ë¡œê³  ë§í¬, í™ˆìœ¼ë¡œ ì´ë™í•˜ëŠ” ë§í¬ë¡œ ì„¤ì •-->
                <a href="/" class="d-flex align-items-center mb-2 mb-lg-0 text-white text-decoration-none">
                    <svg class="bi me-2" width="40" height="32" role="img" aria-label="Bootstrap">
                        <use xlink:href="#bootstrap"></use>
                    </svg>
                </a>
                <!-- ë©”ë‰´ ëª©ë¡ -->
                <ul class="nav col-12 col-lg-auto me-lg-auto mb-2 justify-content-center mb-md-0">
                    <li><a href="LoginPage.html" class="nav-link px-2 text-secondary">LogIn</a></li>
                    <li><a href="SignUpPage.html" class="nav-link px-2 text-danger">SignUp</a></li>
                    <li><a href="#" class="nav-link px-2 text-secondary">mypage</a></li>
                    <li><a href="#" class="nav-link px-2 text-secondary">study</a></li>
                </ul>
            </div>
        </div>
    </header>
    <div class="title_logo">
        <h1>smell</h1>
    </div>

    <div class="weatherAndMusicAndRanking">
        <div class="weatherAndMusic">
            <div class="weatherInfo">
                <p>ì„œìš¸ì˜ ê¸°ì˜¨ : <sapn id="temperature"></sapn>ë„</p>
                <img class="weatherIcon" id="weather" src="" alt="ë‚ ì”¨ ì•„ì´ì½˜">
            </div>
            <iframe width="560" height="315" src="https://www.youtube.com/embed/4gXmClk8rKI" frameborder="0"
                allowfullscreen></iframe>
        </div>
        <div class="musicReasonAndRanking">
            <p>ë‚ ì”¨ë„ ì¢‹ì€ë° ëˆˆê³¼ ê·€ê°€ ì¦ê±°ìš´ ë…¸ë˜ ë“¤ìœ¼ì‹œê³  ê³µë¶€í•˜ëŸ¬ ê°€ë´ìš” ğŸ”¥</p>
            <p>ì˜¤ëŠ˜ì˜ ë­í‚¹ 1ë“±ì€ 7Songì‚¬ì´ë‹¤ ğŸ†</p>
        </div>
    </div>

    </div>
    <div class="login">
        <div class="logo">
            <!-- ë¡œê³  ë„£ëŠ” ë¶€ë¶„ -->
        </div>
        <!-- ì´ë©”ì¼ì„ ì…ë ¥í•˜ëŠ” í¼ -->
        <div class="form-group">
            <img class="id-icon"
                src="https://github.com/LeeNaYoung240/smell_mini-project/assets/107848521/17e99f54-89ea-493d-88c7-2290cf473071"
                alt="ì•„ì´ì½˜">
            <div class="form-floating mb-3">
                <input type="email" class="form-control" id="email" placeholder="email">
                <label for="email">email</label>
            </div>
        </div>
        <!-- ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ëŠ” í¼ -->
        <div class="form-group">
            <img class="id-icon"
                src="https://github.com/LeeNaYoung240/smell_mini-project/assets/107848521/6553407e-aa39-45fa-88e8-5d3a638aad4c"
                alt="ì•„ì´ì½˜">
            <div class="form-floating mb-3">
                <input type="password" class="form-control" id="password" placeholder="password">
                <label for="password">password</label>
            </div>
        </div>

        <p>
            <button id="loginButton" type="button" class="btn btn-outline-warning">ë¡œê·¸ì¸</button>
        </p>
        <p>
            <button onclick="location.href='SignUpPage.html'" type="button" class="btn btn-outline-danger">íšŒì›ê°€ì…</button>
        </p>
    </div>
</body>

</html>